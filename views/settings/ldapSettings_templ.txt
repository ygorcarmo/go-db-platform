<div class=\"flex flex-row gap-2\"><h1 class=\"text-2xl mr-auto\">AD Settings</h1><a class=\"bg-green-400 py-2 px-4 rounded\" href=\"/settings/ldap/cert\" id=\"editCertLink\">Edit Certificate</a> <button class=\"bg-yellow-400 py-2 px-4 rounded\" hx-post=\"/settings/ldap/test\" hx-target=\"#connectionRes\" hx-trigger=\"click\" hx-ext=\"disable-element\" hx-disable-element=\"self\">Test Conneciton</button> <a class=\"bg-blue-400 py-2 px-4 rounded\" href=\"/settings/ldap/credentials\">Edit Login Credentials</a></div><div class=\"flex flex-column justify-between py-2\"><form class=\"border rounded border-gray-500 p-5 w-fit flex flex-col gap-2\" hx-post=\"/settings/ldap\" hx-target=\"#response\"><div class=\"grid grid-cols-2 gap-y-2\"><label for=\"connectionStr\" class=\"align-center\">Connection String:</label> <input type=\"text\" name=\"connectionStr\" id=\"connectionStr\" class=\"border border-slate-400 rounded p-2\" value=\"
\"> <label>Domain</label> <input type=\"text\" name=\"domain\" id=\"domain\" class=\"border border-slate-400 rounded p-2\" value=\"
\"> <label>Base Group</label> <input type=\"text\" name=\"baseGroup\" id=\"baseGroup\" class=\"border border-slate-400 rounded p-2\" value=\"
\"> <label>Base Group OU</label> <input type=\"text\" name=\"baseGroupOU\" id=\"baseGroupOU\" class=\"border border-slate-400 rounded p-2\" value=\"
\"> <label>Admin Group</label> <input type=\"text\" name=\"adminGroup\" id=\"adminGroup\" class=\"border border-slate-400 rounded p-2\" value=\"
\"> <label>Admin Group OU</label> <input type=\"text\" name=\"adminGroupOU\" id=\"adminGroupOU\" class=\"border border-slate-400 rounded p-2\" value=\"
\"> <label>Time out in seconds</label> <input type=\"number\" name=\"timeOutInSecs\" id=\"timeOutInSecs\" class=\"border border-slate-400 rounded p-2\" value=\"
\"> <label>Make AD login page default:</label> <input type=\"checkbox\" name=\"isDefault\" id=\"isDefault\" class=\"border border-slate-400 rounded\"
 checked
> <label>Enable TLS:</label> <input type=\"checkbox\" name=\"enableTLS\" id=\"enableTLS\" class=\"border border-slate-400 rounded\"
 checked
><div id=\"verifyCertContainer\" class=\"col-span-2\"><div class=\"grid grid-cols-2\"><label>Verify Certificate:</label> <input type=\"checkbox\" name=\"verifyCert\" id=\"verifyCert\" class=\"border border-slate-400 rounded\"
 checked
></div></div></div><button type=\"submit\" class=\"bg-blue-400 py-2 px-4 rounded\">Submit</button></form><div id=\"connectionRes\"></div></div><div id=\"response\"></div><script>\r\n\tfunction initializeLDAPSettingsPage() {\r\n\t\tconst enableTLSCheckbox = document.getElementById(\"enableTLS\");\r\n\t\tconst verifyCertContainer = document.getElementById(\"verifyCertContainer\");\r\n\t\tconst verifyCertCheckbox = document.getElementById(\"verifyCert\");\r\n\t\tconst editCertLink = document.getElementById(\"editCertLink\");\r\n\r\n\t\tfunction updateVisibility() {\r\n\t\t\tif (enableTLSCheckbox.checked) {\r\n\t\t\t\tverifyCertContainer.style.display = \"block\";\r\n\t\t\t} else {\r\n\t\t\t\tverifyCertContainer.style.display = \"none\";\r\n\t\t\t\tverifyCertCheckbox.checked = false;\r\n\t\t\t}\r\n\r\n\t\t\tif (enableTLSCheckbox.checked && verifyCertCheckbox.checked) {\r\n\t\t\t\teditCertLink.style.display = \"inline\";\r\n\t\t\t} else {\r\n\t\t\t\teditCertLink.style.display = \"none\";\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (enableTLSCheckbox) {\r\n\t\t\tenableTLSCheckbox.addEventListener(\"change\", updateVisibility);\r\n\t\t\tverifyCertCheckbox.addEventListener(\"change\", updateVisibility);\r\n\t\t\tupdateVisibility();\r\n\t\t}\r\n\t}\r\n\r\n\t// Run initialization on page load\r\n\tdocument.addEventListener(\"DOMContentLoaded\", initializeLDAPSettingsPage);\r\n\r\n\t// Re-initialize after HTMX updates\r\n\tdocument.body.addEventListener(\"htmx:afterSwap\", function () {\r\n\t\tinitializeLDAPSettingsPage();\r\n\t});\r\n</script>